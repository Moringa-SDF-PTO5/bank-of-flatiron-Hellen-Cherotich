{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import TransactionsTable from\"./TransactionsTable\";import newTransaction from\"./NewTransaction\";import SearchBar from\"./SearchBar\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[transactions,setTransactions]=useState([]);const[filteredTransactions,setFilteredTransactions]=useState([]);useEffect(()=>{fetch(\"http://json-server-2bly.onrender.com/transactions\").then(response=>response.json()).then(data=>{setTransactions(data);setFilteredTransactions(data);}).catch(error=>console.error(\"Error fetching transactions:\",error));},[]);const handleNewTransaction=formData=>{fetch(\"http://json-server-2bly.onrender.com/transactions\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)}).then(response=>response.json()).then(newTransaction=>{setTransactions([...transactions,newTransaction]);setFilteredTransactions([...filteredTransactions,newTransaction]);}).catch(error=>console.error(\"Error adding transaction:\",error));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Bank of Flatiron\"}),/*#__PURE__*/_jsx(SearchBar,{onSearch:searchTerm=>{const filtered=transactions.filter(transaction=>transaction.description.toLowerCase().includes(searchTerm.toLowerCase()));setFilteredTransactions(filtered);}}),/*#__PURE__*/_jsx(NewTransactionForm,{onSubmit:handleNewTransaction}),/*#__PURE__*/_jsx(TransactionsTable,{transactions:filteredTransactions})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","TransactionsTable","newTransaction","SearchBar","jsx","_jsx","jsxs","_jsxs","App","transactions","setTransactions","filteredTransactions","setFilteredTransactions","fetch","then","response","json","data","catch","error","console","handleNewTransaction","formData","method","headers","body","JSON","stringify","children","onSearch","searchTerm","filtered","filter","transaction","description","toLowerCase","includes","NewTransactionForm","onSubmit"],"sources":["/root/phase_2/bank-of-flatiron-Hellen-Cherotich/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport TransactionsTable from \"./TransactionsTable\";\nimport newTransaction from \"./NewTransaction\"\nimport SearchBar from \"./SearchBar\";\n\nconst App = () => {\n  const [transactions, setTransactions] = useState([]);\n  const [filteredTransactions, setFilteredTransactions] = useState([]);\n\n  useEffect(() => {\n    fetch(\"http://json-server-2bly.onrender.com/transactions\")\n      .then((response) => response.json())\n      .then((data) => {\n        setTransactions(data);\n        setFilteredTransactions(data);\n      })\n      .catch((error) => console.error(\"Error fetching transactions:\", error));\n  }, []);\n\n  const handleNewTransaction = (formData) => {\n    fetch(\"http://json-server-2bly.onrender.com/transactions\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    })\n      .then((response) => response.json())\n      .then((newTransaction) => {\n        setTransactions([...transactions, newTransaction]);\n        setFilteredTransactions([...filteredTransactions, newTransaction]);\n      })\n      .catch((error) => console.error(\"Error adding transaction:\", error));\n  };\n\n  return (\n    <div>\n      <h1>Bank of Flatiron</h1>\n      <SearchBar\n        onSearch={(searchTerm) => {\n          const filtered = transactions.filter((transaction) =>\n            transaction.description.toLowerCase().includes(searchTerm.toLowerCase())\n          );\n          setFilteredTransactions(filtered);\n        }}\n      />\n      <NewTransactionForm onSubmit={handleNewTransaction} />\n      <TransactionsTable transactions={filteredTransactions} />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CACnD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACY,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEpEC,SAAS,CAAC,IAAM,CACda,KAAK,CAAC,mDAAmD,CAAC,CACvDC,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAK,CACdP,eAAe,CAACO,IAAI,CAAC,CACrBL,uBAAuB,CAACK,IAAI,CAAC,CAC/B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CAAC,CAC3E,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,oBAAoB,CAAIC,QAAQ,EAAK,CACzCT,KAAK,CAAC,mDAAmD,CAAE,CACzDU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAC/B,CAAC,CAAC,CACCR,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEZ,cAAc,EAAK,CACxBQ,eAAe,CAAC,CAAC,GAAGD,YAAY,CAAEP,cAAc,CAAC,CAAC,CAClDU,uBAAuB,CAAC,CAAC,GAAGD,oBAAoB,CAAET,cAAc,CAAC,CAAC,CACpE,CAAC,CAAC,CACDgB,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CAAC,CACxE,CAAC,CAED,mBACEZ,KAAA,QAAAqB,QAAA,eACEvB,IAAA,OAAAuB,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBvB,IAAA,CAACF,SAAS,EACR0B,QAAQ,CAAGC,UAAU,EAAK,CACxB,KAAM,CAAAC,QAAQ,CAAGtB,YAAY,CAACuB,MAAM,CAAEC,WAAW,EAC/CA,WAAW,CAACC,WAAW,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACN,UAAU,CAACK,WAAW,CAAC,CAAC,CACzE,CAAC,CACDvB,uBAAuB,CAACmB,QAAQ,CAAC,CACnC,CAAE,CACH,CAAC,cACF1B,IAAA,CAACgC,kBAAkB,EAACC,QAAQ,CAAEjB,oBAAqB,CAAE,CAAC,cACtDhB,IAAA,CAACJ,iBAAiB,EAACQ,YAAY,CAAEE,oBAAqB,CAAE,CAAC,EACtD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}